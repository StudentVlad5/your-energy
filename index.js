/* empty css                      */import{a as h,i as p}from"./assets/vendor-3BNOZKAJ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();class m{constructor(e="https://your-energy.b.goit.study/api"){this.baseURL=e,this.axios=h.create({baseURL:this.baseURL}),this.axios.interceptors.response.use(r=>r,r=>{var t,o;const n=((o=(t=r.response)==null?void 0:t.data)==null?void 0:o.message)||r.message||"Something went wrong";return console.error("API Error:",n),Promise.reject(r)})}async _request(e,r,n=null,t=null){var o,i;try{const a={method:e,url:r};return n&&(a.data=n),t&&(a.params=t),(await this.axios(a)).data}catch(a){const l=((i=(o=a.response)==null?void 0:o.data)==null?void 0:i.message)||a.message;throw new Error(`${e.toUpperCase()} ${r} failed: ${l}`)}}async getFilters(e={}){return this._request("get","/filters",null,e)}async getExercises(e={}){return this._request("get","/exercises",null,e)}async getQuote(){return this._request("get","/quote")}async subscribe(e){if(!e.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Valid email is required");return this._request("post","/subscription",e)}async rateExercise(e,r){if(!e)throw new Error("Exercise ID is required");if(!r.rate||r.rate<1||r.rate>5)throw new Error("Rating must be between 1 and 5");if(!r.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email))throw new Error("Valid email is required");return this._request("patch",`/exercises/${e}/rating`,r)}}const d="#242424",u="#ffffff",f="#8e8f99",y={position:"topRight",timeout:4e3,close:!0,closeOnEscape:!0,pauseOnHover:!0,progressBar:!0,progressBarColor:f,transitionIn:"fadeInLeft",transitionOut:"fadeOutRight",fontFamily:"inherit",icon:""},w=s=>{p.show({...y,title:"Error",message:s,backgroundColor:d,titleColor:u,messageColor:f,progressBarColor:u,icon:"icon-error",iconColor:u})},q=new m,c={content:document.querySelector(".js-quote-content"),author:document.querySelector(".js-quote-author")};function E(){const s=localStorage.getItem("quoteData");if(s){const{quote:e,author:r,date:n}=JSON.parse(s),t=new Date(n),o=new Date;if(t.getDate()===o.getDate()){g(e,r);return}}b()}E();async function b(){try{const s=await q.getQuote(),{quote:e,author:r}=s,n={quote:e,author:r,date:new Date};localStorage.setItem("quoteData",JSON.stringify(n)),g(e,r)}catch(s){w(s.message||"Something went wrong")}}function g(s,e){c.content&&(c.content.textContent=s),c.author&&(c.author.textContent=e)}
//# sourceMappingURL=index.js.map
