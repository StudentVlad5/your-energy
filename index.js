/* empty css                      */import{i as f,a as y}from"./assets/vendor-BIqg12Vg.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const u="#242424",i="#ffffff",m="#8e8f99",g={position:"topRight",timeout:4e3,close:!0,closeOnEscape:!0,pauseOnHover:!0,progressBar:!0,progressBarColor:m,transitionIn:"fadeInLeft",transitionOut:"fadeOutRight",fontFamily:"inherit",icon:""},w=s=>{f.show({...g,title:"OK",message:s,backgroundColor:u,titleColor:i,messageColor:i,icon:"icon-check",iconColor:i})},d=s=>{f.show({...g,title:"Error",message:s,backgroundColor:u,titleColor:i,messageColor:m,progressBarColor:i,icon:"icon-error",iconColor:i})},q=s=>{f.show({...g,title:"Info",message:s,backgroundColor:i,titleColor:u,messageColor:u,progressBarColor:u,borderBottom:`2px solid ${u}`})};class b{constructor(e="https://your-energy.b.goit.study/api"){this.baseURL=e,this.axios=y.create({baseURL:this.baseURL}),this.axios.interceptors.response.use(o=>o,o=>{var t,r;const n=((r=(t=o.response)==null?void 0:t.data)==null?void 0:r.message)||o.message||"Something went wrong";return console.error("API Error:",n),Promise.reject(o)})}async _request(e,o,n=null,t=null){var r,a;try{const c={method:e,url:o};return n&&(c.data=n),t&&(c.params=t),(await this.axios(c)).data}catch(c){const h=((a=(r=c.response)==null?void 0:r.data)==null?void 0:a.message)||c.message;throw new Error(`${e.toUpperCase()} ${o} failed: ${h}`)}}async getFilters(e={}){return this._request("get","/filters",null,e)}async getExercises(e={}){return this._request("get","/exercises",null,e)}async getQuote(){return this._request("get","/quote")}async subscribe(e){if(!e.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Valid email is required");return this._request("post","/subscription",e)}async rateExercise(e,o){if(!e)throw new Error("Exercise ID is required");if(!o.rate||o.rate<1||o.rate>5)throw new Error("Rating must be between 1 and 5");if(!o.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email))throw new Error("Valid email is required");return this._request("patch",`/exercises/${e}/rating`,o)}}const C=new b,l={content:document.querySelector(".js-quote-content"),author:document.querySelector(".js-quote-author")};function E(){const s=localStorage.getItem("quoteData");if(s){const{quote:e,author:o,date:n}=JSON.parse(s),t=new Date(n),r=new Date;if(t.getDate()===r.getDate()){p(e,o);return}}x()}E();async function x(){try{const s=await C.getQuote(),{quote:e,author:o}=s,n={quote:e,author:o,date:new Date};localStorage.setItem("quoteData",JSON.stringify(n)),p(e,o)}catch(s){d(s.message||"Something went wrong")}}function p(s,e){l.content&&(l.content.textContent=s),l.author&&(l.author.textContent=e)}w("We have sent you a verification email!");q("Wrong symbols in your email.");d("This email is already subscribed or invalid.");
//# sourceMappingURL=index.js.map
